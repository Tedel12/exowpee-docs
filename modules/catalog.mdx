# Overview

The Catalog module is the heart of the Exowpee platform for handling product inventories and related data. Its primary purpose is to provide a comprehensive system for managing products, categories, product variants (such as different sizes, colors, or configurations), pricing per variant, vendors (suppliers or sellers), locations (physical storage or store places like warehouses or shops), and purchases (procurement from vendors). This module ensures that businesses can organize their inventory in a structured way, track stock levels, and integrate with other modules for seamless operations like sales and accounting.

Let's break this down for beginners: Imagine you're running a store selling phones. The Catalog module lets you create "categories" like "Smartphones" or "Accessories". Then, you add "products" like "Samsung Galaxy A54", which can have "variants" (e.g., black color with 128GB storage vs. white with 256GB). You can set different "prices" for each variant (e.g., wholesale price, retail price). You also manage "vendors" (who supply the phones), "locations" (where you store them, like "Main Warehouse" or "Cotonou Store"), and "purchases" (buying new stock from vendors, which updates your inventory automatically).

- **Key Objectives**:
  - Organize products into categories for easy navigation and search.
  - Handle complex product variations to support diverse inventory (e.g., clothing with sizes and colors).
  - Manage pricing flexibly, including multiple price points per variant (e.g., standard price, promotional price).
  - Track vendors to maintain supplier relationships and purchase history.
  - Define locations for multi-site inventory management (e.g., track stock per store).
  - Process purchases to add stock, update costs, and integrate with accounting.
  - Ensure multi-tenant support, where each company has its own isolated catalog.


- **How it Fits in Exowpee**: Catalog integrates with IAM for permission checks (e.g., who can create products), ORDER for selling products (stock decreases on sale), CUSTOMER for associating purchases with clients (though mainly vendor-focused), and LEDGER for recording purchase costs as accounting entries. It's multi-tenant, meaning data is scoped to your current company (from your JWT token).

- **Why It's Important for Developers**: This module uses Ksuid IDs (27-character strings like "39WSvi21oTnZN8i028Y80FTNT1x") for all entities, ensuring uniqueness in distributed systems. It supports tracked inventory (stock levels) and non-tracked items.

**Components and Entities in Catalog**
This section describes the main entities managed by the Catalog module, including their purpose and associated data structures (models or schemas). These entities form the core of the inventory system and are stored in the database. Each entity has associated API endpoints for CRUD operations (see Endpoints section), and their schemas are defined in the OpenAPI specification (openapi.json).

**Categories**
  Groups for organizing products (e.g., "Smartphones", "Accessories"). They help with navigation and filtering.

  - Associated model : Category (in Laravel, models/Category.php)
  - Key properties : id (Ksuid), title (string), handle (string unique per company), sort_order (integer), created_at, updated_at
  - Associated file : schemas in openapi.json under components/schemas/Category
  - Purpose : Structure the catalog for easy search and categorization.

See [API Reference > Categories](/api-reference) for technical details and API tests.

**Products**
  The main items in your inventory (e.g., "Samsung Galaxy A54"). Products can be simple or variable (with variants).

  - Associated model : Product (models/Product.php)
  - Key properties : id (Ksuid), title (string), type ("simple" or "variable"), is_tracked (boolean), handle (string unique), status ("draft" or "published"), description (string), tags (string), vendor_id (Ksuid), categories (array of Ksuid), variants (array of Variant objects), created_at, updated_at
  - Associated file : schemas in openapi.json under components/schemas/Product
  - Purpose : Represent the core inventory items, linking to categories, vendors, and variants.

See [API Reference > Products](/api-reference) for technical details and API tests.

**Variants**
  Variations of a product (e.g., different colors or sizes for a phone). Required for variable products.

  - Associated model : Variant (models/Variant.php)- Key properties: `id` (Ksuid), `product_id` (Ksuid), `sku` (string unique), `barcode` (string), `price` (number), `cost` (number), `stock_quantity` (number), `weight` (number), `weight_unit` (string), `status` ("active"), `options` (array of `{"name": string, "value": string}`), `created_at`, `updated_at`
  - Key properties: `id` (Ksuid), `product_id` (Ksuid), `sku` (string unique), `barcode` (string), `price` (number), `cost` (number), `stock_quantity` (number), `weight` (number), `weight_unit` (string), `status` ("active"), `options` (array of `{"name": string, "value": string}`), `created_at`, `updated_at`
  - Associated file : schemas in openapi.json under components/schemas/Variation
  - Purpose : Handle diversity in inventory, with separate stock and pricing per variant.

See [API Reference > Variants](/api-reference) for technical details and API tests.

**Prices**
  Pricing information per variant (e.g., retail, wholesale, promotional).

  - Associated model : Price (models/Price.php)
  - Key properties : id (Ksuid), variant_id (Ksuid), type (string, e.g., "retail"), amount (number), currency (string), created_at, updated_at
  - Associated file : schemas in openapi.json under components/schemas/Price (if defined, otherwise part of Variant)
  - Purpose : Support flexible pricing, including multiple tiers per variant for different scenarios.

See [API Reference > Prices](/api-reference) for technical details and API tests.

**Vendors**
  Suppliers or sellers who provide products (e.g., "Samsung Supplier").
  - Associated model : Vendor (models/Vendor.php)
  - Key properties : id (Ksuid), name (string), email (string), phone (string), address (string), company_id (Ksuid), created_at, updated_at
  - Associated file : schemas in openapi.json under components/schemas/Vendor
  - Purpose : Manage supplier relationships, link to products and purchases.

See [API Reference > Vendors](/api-reference) for technical details and API tests.

**Locations**
  Physical or virtual storage places (e.g., "Main Warehouse", "Cotonou Store").

  - Associated model : Location (models/Location.php)
  - Key properties : id (Ksuid), name (string), address (string), city (string), country (string), is_active (boolean), company_id (Ksuid), created_at, updated_at
  - Associated file : schemas in openapi.json under components/schemas/Location
  - Purpose : Support multi-site inventory, track stock per location.

See [API Reference > Locations](/api-reference) for technical details and API tests.


**Purchases**
  Procurement from vendors to add stock (e.g., buying new phones from Samsung).

  - Associated model : Purchase (models/Purchase.php)
  - Key properties: `id` (Ksuid), `vendor_id` (Ksuid), `products` (array of `{"variation_id": Ksuid, "quantity": number, "price": number}`), `total` (number), `status` (string), `company_id` (Ksuid), `created_at`, `updated_at`
  - Associated file : schemas in openapi.json under components/schemas/Purchase
  - Purpose : Handle incoming stock, update inventory levels, integrate with ledger for costs.


See [API Reference > Purchases](/api-reference) for technical details and API tests.


These entities are interconnected (e.g., products link to categories and vendors, variants link to products, purchases link to vendors and variants). All are scoped to the company for multi-tenant isolation. For schema details, see the OpenAPI spec.


## Endpoints

The Catalog module has 15+ routes for managing categories, products, variants, prices, vendors, locations, and purchases. Below is a detailed table. All endpoints are protected and require Bearer JWT token (from IAM login). They are scoped to the user's current company_id. Use Ksuid IDs for paths (e.g., /v1/catalog/products/39WSvi21oTnZN8i028Y80FTNT1x).

**Link to API Reference** : See [API Reference > Catalog](/api-reference) for technical details.

## Examples of Use

Let's dive into using the Catalog module step by step, as if you're a new developer or business owner setting up your inventory for the first time. We'll use cURL examples, but feel free to use Postman (import your openapi.json as a collection for easy testing). Assume you're authenticated (Bearer token from IAM login). We'll explain every property, what it does, why it's required, and common pitfalls.

### Example: Create a Category (POST /v1/catalog/categories)

Categories are groups for products (e.g., "Electronics" or "Clothing"). This endpoint creates one. It's the first step in organizing your catalog. Without categories, products are harder to search or filter.

**Required** :
- title: Human-readable name of the category (string, e.g., "Smartphones"). Required because it's the display name in the UI.
- handle: Slug for URLs or identifiers (string, e.g., "smartphones"). Required, must be unique per company to avoid conflicts.

**Optional** :
- sort_order: Integer for ordering categories (e.g., 1 for top position).

cURL example:
```bash
curl -X POST "http://localhost:8000/v1/catalog/categories" \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer <your_token>" \
  -d '{
    "title": "Smartphones",
    "handle": "smartphones",
    "sort_order": 1
  }'
```

**Expected Response (201 Created)** :
```json
{
  "id": "39WgVV5nQL8KpD8LldXsHnUKkrW",
  "title": "Smartphones",
  "handle": "smartphones",
  "sort_order": 1,
  "created_at": "2026-02-12T16:30:00Z",
  "updated_at": "2026-02-12T16:30:00Z"
}
```

**Explanation of Response Properties** :
- **id**: The unique Ksuid (27-character string) assigned to the category. Use this ID to associate with products (e.g., in "categories" array).
- **title**: The name you provided, echoed back for confirmation.
- **handle**: The slug you provided, confirmed unique.
- **sort_order**: The ordering value you set (or default 0 if omitted).
- **created_at**: Timestamp when the category was created (ISO format).
- **updated_at**: Timestamp of last update (initially same as created_at).

**What This Does** : The server validates the handle is unique in your company, creates the category in the database, and returns it. Categories are company-scoped (multi-tenant), so no overlap between companies.

**Advanced Notes** : Handles are used for SEO-friendly URLs in e-commerce integrations. Sort_order affects display in lists. Integrate with search for filtering.

**Link to API Reference** : See [API Reference > Catalog](/api-reference) for other routes and test .

## Was this page helpful?

Your feedback helps us improve the documentation.

<div style={{ display: 'flex', gap: '16px', marginTop: '16px' }}>
  <button
    onClick={() => {
      document.getElementById('feedback-yes-message').style.display = 'block';
      document.getElementById('feedback-no-message').style.display = 'none';
      setTimeout(() => {
        document.getElementById('feedback-yes-message').style.display = 'none';
      }, 4000);
    }}
    style={{
      padding: '10px 24px',
      color: '#16A34A',
      border: 'none',
      borderRadius: '8px',
      cursor: 'pointer',
      fontWeight: '600',
      fontSize: '15px',
    }}
  >
    Yes
  </button>

  <button
    onClick={() => {
      document.getElementById('feedback-no-message').style.display = 'block';
      document.getElementById('feedback-yes-message').style.display = 'none';
      setTimeout(() => {
        document.getElementById('feedback-no-message').style.display = 'none';
      }, 4000);
    }}
    style={{
      padding: '10px 24px',
      color: '#e53e3e',
      border: 'none',
      borderRadius: '8px',
      cursor: 'pointer',
      fontWeight: '600',
      fontSize: '15px',
    }}
  >
    No
  </button>
</div>

{/* Message Yes */}
<div 
  id="feedback-yes-message" 
  style={{ 
    display: 'none', 
    marginTop: '20px', 
    padding: '12px 20px', 
    backgroundColor: '#000702d6', 
    borderRadius: '8px', 
    border: 'none', 
    color: '#16A34A', 
    fontSize: '15px', 
    fontWeight: '500',
    textAlign: 'center'
  }}
>
  Thank you! We're glad this helped
</div>

{/* Message No */}
<div 
  id="feedback-no-message" 
  style={{ 
    display: 'none', 
    marginTop: '20px', 
    padding: '12px 20px', 
    backgroundColor: '#130101', 
    borderRadius: '8px', 
    border: 'none', 
    color: '#991b1b', 
    fontSize: '15px', 
    fontWeight: '500',
    textAlign: 'center'
  }}
>
  Thanks for the feedback â€” we'll improve it!
</div>

```